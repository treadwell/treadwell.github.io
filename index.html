<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>Breathing Timer</title>
        <script>
            // get timers working (check)
            // separate "breathe" into inhale and exhale
            // move commands to web page from console
            //      document.getElementById('txt').innerHTML = "inhale";
            // add sound or tts to commands
            // add scaling visuals to commands

            function command(message) {
                console.log(message);
            }

            function breathe() {
                // change bpm to seconds and inhale / exhale cycles
                const bpm = document.getElementById("bpm").value
                const duration = document.getElementById("duration").value
                const cycle = 60.0 / bpm * 1000; // ms for a full breath cycle
                const duration_ms = duration * 60 * 1000;
                console.log(cycle);
                console.log(duration_ms);

                const timerID = setInterval(() => command("inhale"), cycle);
                setTimeout(() => clearInterval(timerID), duration_ms);

            }
        </script>
    </head>
    <body>
        <div id="txt"></div>
        <div>
            <p>Breaths per minute (count): <input type="number" id="bpm" value="10"></p>
            <p>Length of practice (minutes): <input type="number" id="duration" value="0.5"></p>
            <button onclick="breathe()">Start timer</button>
        </div>
    </body>
</html>